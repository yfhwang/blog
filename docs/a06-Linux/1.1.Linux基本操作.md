## 主键盘快捷键

### 光标移动

1. 向上↑： ctrl+p (previous)
2. 向下↓： ctrl+n (next)
3. 向左←：ctrl+b (backward)
4. 右→：ctrl+f (forward)
5. 移动到头部: ctrl + a
6. 移动到尾部: ctrl + e

### 删除字符

1. 删除光标后边的: ctrl + d
	
2. 删除光标前边的: ctrl + h
3. 删除光标前的所有内容：ctrl + u

清屏：ctrl+L

## Linux目录结构

![Image](../images/Image.jpg)

- **/bin**

  bin是Binary的缩写, 这个目录存放着**最经常使用的命令**。

- /boot

  这里存放的是启动Linux时使用的一些核心文件，包括一些连接文件以及镜像文件。

- **/dev**

  dev是Device(设备)的缩写, 该目录下存放的是Linux的**外部设备**，在Linux中访问设备的方式和访问文件的方式是相同的。

- **/etc**

  这个目录用来存放所有的系统管理所需要的**配置文件**和子目录。

- **/home**

  用户的主目录，在Linux中，每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的。

- **/lib**

  这个目录里存放着系统最基本的**动态连接共享库**，其作用类似于Windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库。

- /lost+found

  这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。

- **/media**   

  linux系统会**自动识别一些设备**，例如U盘、光驱等等，当识别后，linux会把识别的设备挂载到这个目录下。

- **/mnt**

  系统提供该目录是为了让用户**临时挂载**别的文件系统的，我们可以将光驱挂载在/mnt/上，然后进入该目录就可以查看光驱里的内容了。

- /opt

   这是给主机**额外安装软件**所摆放的目录。比如你安装一个ORACLE数据库则就可以放到这个目录下。默认是空的。

- /proc

  这个目录是一个虚拟的目录，它是**系统内存的映射**，我们可以通过直接访问这个目录来获取系统信息。
  这个目录的内容不在硬盘上而是在内存里，我们也可以直接修改里面的某些文件，比如可以通过下面的命令来屏蔽主机的ping命令，使别人无法ping你的机器：

  `echo 1 > /proc/sys/net/ipv4/icmp_echo_ignore_all`

- /root

  该目录为系统管理员，也称作超级权限者的用户主目录

- /sbin

  s就是Super User的意思，这里存放的是系统管理员使用的系统管理程序。

- /selinux

  这个目录是Redhat/CentOS所特有的目录，Selinux是一个安全机制，类似于windows的防火墙，但是这套机制比较复杂，这个目录就是存放selinux相关的文件的。

- /srv
   该目录存放一些服务启动之后需要提取的数据。

- /sys
   这是linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统 sysfs 。sysfs文件系统集成了下面3种文件系统的信息：针对进程信息的proc文件系统、针对设备的devfs文件系统以及针对伪终端的devpts文件系统。该文件系统是内核设备树的一个直观反映。当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统种被创建。

- /tmp

  这个目录是用来存放一些临时文件的。

- **/usr**

   这是一个非常重要的目录，**用户的很多应用程序和文件**都放在这个目录下，类似与windows下的program files目录。

   - /usr/bin

      系统用户使用的应用程序。

   - /usr/sbin

     超级用户使用的比较高级的管理程序和系统守护程序。

   - /usr/src

      内核源代码默认的放置目录。

- /var

  这个目录中存放着在不断扩充着的东西，我们习惯将那些经常被修改的目录放在这个目录下。包括各种**日志文件**

> **在linux系统中，有几个目录是比较重要的，平时需要注意不要误删除或者随意更改内部文件。**
>
> /etc： 上边也提到了，这个是系统中的配置文件，如果你更改了该目录下的某个文件可能会导致系统不能启动。
>
> /bin, /sbin, /usr/bin, /usr/sbin: 这是系统预设的执行文件的放置目录，比如 ls 就是在/bin/ls 目录下的。
>
> 值得提出的是，/bin, /usr/bin 是给系统用户使用的指令（除root外的通用户），而/sbin, /usr/sbin 则是给root使用的指令。
>
> /var： 这是一个非常重要的目录，系统上跑了很多程序，那么每个程序都会有相应的日志产生，而这些日志就被记录到这个目录下，具体在/var/log 目录下，另外mail的预设放置也是在这里。

## 文件和目录操作

```sh
cd - #在临近的两个目录直接切换
tree 目录  #显示文件夹树结构
```

### 文件或目录颜色

<img src="../images/image-20210121162502211.png" alt="image-20210121162502211" style="zoom: 50%;" />

### 文件权限

![1_ls -l](../images/1_ls -l-1217688.png)

r-read w-write x-execute

### 文件操作

删除：rm -ri 删除时会提示

创建：touch xx 文件不存在：创建文件；文件存在：修改文件时间

拷贝：cp mytest/ newDir 拷贝文件夹。若newDir存在，则放入；若不存在，则创建

查看文件 cat more(只能向下浏览) less(可以上下浏览) head tail

### 链接 ln

#### 软连接（符号链接）

相当于windows下快捷方式

- 创建软链接，源文件要使用**绝对路径**
- 软连接大小：源文件+路径 的总字节数
- 目录可以创建软链接

```sh
ln -s /home/a.txt（源文件名+绝对路径） a.test（软链接的名字）
```

#### 硬链接

注意事项

- 以**文件副本**的形式存在。但**不占用实际空间**
- 不允许给目录创建硬链接
- 硬链接只有在同一个文件系统中才能创建

硬链接能够**同步更新**

- linux下每一个文件都对应一个Inode，创建硬链接后，两个文件的Inode是相同的
- 查看文件的Inode：stat a.txt
- 文件创建硬链接后，硬链接计数+1，删除一个硬链接，硬链接计数-1

> inode：i节点，保存了一些文件信息，通过inode找到对应的节点

### 文件或目录属性

wc a.txt		查看文件的行数  字数  字节数  文件名

od	查看二进制文件信息

du(disk use)   查看某个目录的大小 

df(disk free)   查看磁盘的使用情况  一般加参数 -h（human） 以人类能看懂的方式显示 

which    查看指定命令所在的路径

> which指令会在PATH变量指定的路径中，搜索某个系统命令的位置，并且返回第一个搜索结果。

## 权限

### whoami

查看当前登录用户

### chmod

> (change mod)

#### 文字设定法

`chmod [who] [+|-|=] [mode] 文件名`

- 操作对象【who】
  - u -- 用户（user）
  - g -- 同组用户（group）
  - o -- 其他用户（other）
  - a -- 所用用户（all）【默认】		
- 操作符【+-=】
     - \+ 添加权限
     - \-  取消权限
     - = 赋予给定权限并取消其他权限l
   - 权限【mode】
     		r -- 读
       		w -- 写
       		x -- 执行
     例：chmod u+wx file.txt

#### 数字设定法.

`chmod 777 file.txt`

- 数字表示的含义
  - 0 -- 没有权限(-)
  - 1 -- 执行权限（x）
  - 2 -- 写权限（w）
  - 4 -- 读权限（r)
- 操作符【+-=】

### chown

将指定文件的拥有者改为指定的用户或组 -- change owner

- chown + 文件所属用户 + 文件或目录名

​			`sudo chown nobody text.txt`

- chown + 文件所属用户：文件所属组 + 文件或目录名

​			`sudo chown nobody：nogroup text.txt`

### chgrp

改变文件或目录的所属群组

- chgrp + 用户组 + 文件或目录名

​		`sudo chgrp nogroup text.txt`

## 查找和检索

### find

- 按文件名查询：`-name`

  - find + 路径 + -name + 文件名
  - eg `find /home -name a.txt`

- 按文件大小查询：`-size`

  - find + 路径 + -size + 范围
    - 范围
      - 大于：+100k
      - 小于：-100k
      - 等于： 100k
    - 大小
      - M 必须大写
      - k 必须小写

  - 例子
    - 等于100k的文件: `find ~/ -size 100k`
    - 大于100k的文件: `find ~/ -size +100k`
    - 大于50k, 小于100k的文件: `find ~/ -size +50k -size -100k`

### grep

- 按文件内容查找
  - grep -r + “查找的关键字” + 路径
  - eg: `grep -r "main void" /home/itcast`

## 软件安装和卸载

### 在线安装

- apt-get

  - 安装：`sudo apt-get install tree` -- 在线下载安装

  - 移除：`sudo apt-get remove tree`

  - 更新：`sudo apt-get update` -- 更新软件列表

  - 清理所有软件安装包: `sudo apt-get clean`

    > 实际清理的是: /var/cache/apt/archives 目录下的 .deb 文件

- aptitude
  - 安装：`sudo aptitude install tree`
  - 重新安装：`sudo aptitude reinstall tree`
  - 更新：`sudo apt-get update`
  - 移除：`sudo aptitude remove tree`
  - 显示状态：`sudo aptitude show tree`

### deb包安装

- 安装 `sudo dpkg -i xxx.deb`

  > i--install    r--remove

- 删除 `sudo dpkg -r xxx`

### 源码安装

1. 解压缩源代码包
2. 进入到安装目录：cd dir
3. 检测文件是否缺失，创建Makefile，检测编译环境： ./configure
4. 编译源码，生成库和可执行程序：make
5. 把库和可执行程序，安装到系统目录下：sudo make install
6. 删除和卸载软件：sudo make distclean
7. 上述安装步骤并不是绝对的，应该先查看附带的 README 文件

## 磁盘管理

